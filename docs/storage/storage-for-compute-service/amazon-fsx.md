# Amazon FSx

## 一般的な解説

Amazon FSx は、一般的によく使用される商用ファイルシステムを AWS 上で利用できるようにしたフルマネージドサービスです。以下のような特徴があります：

- Windows ファイルサーバー、Lustre など、使い慣れたファイルシステムをクラウドで利用可能
- インフラの管理や運用の手間を削減
- 高性能で信頼性の高いストレージを必要に応じて拡張可能
- データのバックアップや暗号化などのセキュリティ機能を標準装備

## 主な機能と特徴

### FSx for Windows File Server

- Active Directory との統合が可能
- SMB プロトコルを使用したファイル共有
- Windows ベースのアプリケーションに最適
- DFS ネームスペース対応
- シャドウコピー機能によるバックアップ

### FSx for Lustre

- 高性能コンピューティング（HPC）向けの並列ファイルシステム
- 機械学習、ビッグデータ処理、金融モデリングなどに最適
- Amazon S3 との統合が可能
- 数百 GBps のスループットと数百万 IOPS を実現

### FSx for NetApp ONTAP

- NetApp ONTAP の機能をフルマネージドで提供
- NFS、SMB、iSCSI プロトコルをサポート
- スナップショット、レプリケーション機能を搭載
- ストレージ効率化機能（重複排除、圧縮）

### FSx for OpenZFS

- ZFS ファイルシステムの機能を提供
- NFS プロトコルをサポート
- スナップショット機能
- 高性能なデータ処理が可能

## セキュリティと可用性

- データの保存時と転送時の暗号化
- AWS KMS との統合
- マルチ AZ 配置によるハイアベイラビリティ
- 自動バックアップ機能

## 料金体系

- プロビジョニングしたストレージ容量に対して課金
- スループット容量に応じた料金
- バックアップストレージの使用量に応じた料金

## FSx の種類の比較

| 特徴           | FSx for Windows | FSx for Lustre | FSx for NetApp ONTAP | FSx for OpenZFS  |
| -------------- | --------------- | -------------- | -------------------- | ---------------- |
| 主なプロトコル | SMB             | Lustre         | SMB, NFS, iSCSI      | NFS              |
| 性能           | 中～高          | 超高性能       | 中～高               | 高               |
| コスト         | 中              | 高             | 高                   | 中               |
| 最小容量       | 32GB            | 1.2TB          | 1TB                  | 64GB             |
| バックアップ   | 自動            | S3 連携        | スナップショット     | スナップショット |
| マルチ AZ      | ○               | ×              | ○                    | ×                |
| アクセス速度   | ミリ秒単位      | マイクロ秒単位 | ミリ秒単位           | ミリ秒単位       |

## ユースケースガイド

### FSx for Windows File Server が最適な場合

- Windows ベースの業務システムを使用している企業
- Active Directory と統合が必要な環境
- 一般的なオフィスでのファイル共有
- Windows アプリケーションのホスティング

### FSx for Lustre が最適な場合

- 機械学習の学習データ処理
- 大規模なデータ分析
- 映像レンダリング
- 金融シミュレーション
- ゲノム解析

### FSx for NetApp ONTAP が最適な場合

- オンプレミスの NetApp 環境からの移行
- 複数のプロトコルサポートが必要
- データベースワークロード
- VMware 環境での利用
- ハイブリッドクラウド構成

### FSx for OpenZFS が最適な場合

- Linux ベースのアプリケーション
- 開発環境やテスト環境
- コスト効率の高いファイル共有が必要
- シンプルな NFS ファイル共有

### 選び方のポイント

1. **Windows 環境での利用が主な場合**  
   → FSx for Windows File Server

2. **超高速な処理が必要な場合**  
   → FSx for Lustre

3. **複雑な企業システムで複数のプロトコルが必要な場合**  
   → FSx for NetApp ONTAP

4. **Linux 環境でシンプルな構成を求める場合**  
   → FSx for OpenZFS
