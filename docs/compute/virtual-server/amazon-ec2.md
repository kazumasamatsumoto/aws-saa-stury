# Amazon Elastic Compute Cloud (Amazon EC2)

## 概要

Amazon EC2 は、AWS が提供する代表的な仮想サーバーサービスです。柔軟なスケーリング性能と高い可用性を特徴とし、様々なワークロードに対応できる仮想サーバーを提供します。

## 主な特徴

### 迅速なデプロイメント

- 数分程度でサーバーの新設・増設が可能
- インフラストラクチャの迅速な展開と拡張が可能

### 豊富なインスタンスタイプ

- 500 以上のインスタンスタイプを提供
- 用途に応じて最適な構成を選択可能：
  - ウェブサーバー
  - アプリケーションサーバー
  - 機械学習
  - 高性能コンピューティング（HPC）
  - データベース

### 高可用性

- 99.99%の可用性を提供
- 複数のアベイラビリティーゾーン（AZ）にわたる冗長構成が可能

## 料金体系

### 基本料金体系

- 従量制課金
- インスタンスの状態による課金：
  - 起動中（Running）：課金
  - 停止中（Stopped）：課金なし
  - 終了（Terminated）：課金なし

### コスト最適化オプション

- Savings Plans
- リザーブドインスタンス（前払いオプション）
- 長期利用割引

## インスタンス管理

### Amazon Machine Image (AMI)

- サーバーのテンプレート化が可能
- バックアップとしての利用
- 異なるリージョンへのコピーが可能

### プレイスメントグループ

プレイスメントグループとは、EC2 インスタンスの物理的な配置戦略を定義する機能です。アプリケーションの要件に応じて、最適なサーバーの配置方法を選択できます。

#### クラスタプレイスメントグループ

- 同一 AZ 内の同じネットワークセグメントにインスタンスを配置
- 低レイテンシと高スループットを実現
- HPC workload に最適

> 💡 **分かりやすい説明**：
> 複数のサーバーを可能な限り近くに集めて配置する戦略です。例えば、超高速な計算が必要なシステムや、サーバー間で大量のデータをやり取りする必要がある場合に適しています。

#### パーティションプレイスメントグループ

- 同一 AZ 内の異なるパーティションにインスタンスを配置
- 独立した電源とラック構成
- 主な用途：
  - HDFS
  - HBase
  - Cassandra

> 💡 **分かりやすい説明**：
> サーバーをいくつかのグループ（パーティション）に分けて配置する戦略です。各グループは独立した設備（電源やネットワーク機器）を使用するため、一部の設備に問題が発生しても、他のグループは影響を受けにくくなります。大規模なデータベースシステムなどで使用されます。

#### スプレッドプレイスメントグループ

- 同一 AZ 内の異なるパーティションに分散配置
- インスタンス間の干渉を最小限に抑制
- クリティカルアプリケーションに推奨

> 💡 **分かりやすい説明**：
> サーバーを可能な限り離れた場所に配置する戦略です。それぞれのサーバーが完全に独立した設備を使用するため、最も安全性が高くなります。例えば、銀行システムなど、絶対に止まってはいけないシステムで使用されます。

## インスタンスタイプとパフォーマンス

### バーストパフォーマンス

- T 系インスタンスタイプで利用可能
- 通常時の基準性能に加え、必要に応じて追加の処理能力を使用可能
- CPU クレジットにより管理

### 購入オプション

#### オンデマンドインスタンス

- 最も一般的な購入オプション
- 従量制で必要な時に必要なだけ利用可能

#### リザーブドインスタンス

- 1 年または 3 年の利用を約束することで割引を受けられる
- 料金項目：
  - 前払いなし
  - 一部前払い
  - 全額前払い

#### スポットインスタンス

- 未使用の EC2 キャパシティを割引価格で利用
- 購入方法：
  - スポットインスタンスリクエスト
  - スポットフリート
  - EC2 フリート
- 価格変動あり、中断の可能性あり
