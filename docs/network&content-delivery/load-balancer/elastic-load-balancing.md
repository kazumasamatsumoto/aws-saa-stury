# Elastic Load Balancing (ELB)

## 概要

Elastic Load Balancing は、アプリケーションのトラフィックを複数のターゲットに自動的に分散する AWS のサービスです。高可用性、自動スケーリング、堅牢なセキュリティを提供します。

## 技術詳細

### 機能

1. **負荷分散**

   - トラフィックの自動分散
   - リクエストの均等配分
   - 複数 AZ 間のバランシング
   - スケーラブルな処理

2. **ヘルスチェック**

   - エンドポイントの状態監視
   - 自動フェイルオーバー
   - カスタマイズ可能な健全性確認
   - リアルタイムモニタリング

3. **セキュリティ機能**

   - SSL/TLS 終端
   - WAF 統合
   - DDoS 保護
   - アクセスログ記録

4. **高度なルーティング**
   - パスベースルーティング
   - ホストベースルーティング
   - HTTP ヘッダーベース
   - クエリ文字列ベース

### ロードバランサーの種類

| 種類 | レイヤー | 主な用途                   | 特徴                         |
| ---- | -------- | -------------------------- | ---------------------------- |
| ALB  | L7       | Web アプリケーション       | コンテンツベースルーティング |
| NLB  | L4       | TCP/UDP トラフィック       | 超高性能、固定 IP            |
| GWLB | L3/4     | セキュリティアプライアンス | 仮想アプライアンス統合       |

### 主要コンポーネント

1. **リスナー**

   - プロトコル/ポート監視
   - ルール定義
   - アクション設定

2. **ターゲットグループ**

   - ヘルスチェック設定
   - ルーティングアルゴリズム
   - スティッキーセッション

3. **ルール**
   - 条件定義
   - アクション指定
   - 優先順位設定

### 用途

1. **Web アプリケーション**

   - マイクロサービス構成
   - コンテナベースアプリ
   - API サービス

2. **ネットワークアプリケーション**

   - ゲームサーバー
   - IoT プラットフォーム
   - ストリーミングサービス

3. **セキュリティ要件**
   - WAF 統合
   - SSL 終端
   - アクセス制御

### 目的

1. **可用性向上**

   - 冗長構成の実現
   - 障害の自動検知
   - トラフィックの分散

2. **パフォーマンス最適化**

   - 負荷の均等化
   - レスポンス時間の改善
   - スケーラビリティの確保

3. **運用効率化**
   - 自動化された管理
   - 統合モニタリング
   - シンプルな設定

## 一般向け解説：ELB って何？

### 簡単に言うと？

ELB は、ウェブサイトやアプリの「交通整理係」のようなものです。例えると：

- 🏢 デパートの案内係
- 🚦 交差点の信号機
- 👮 イベント会場の誘導員

### どんなことができるの？

1. **トラフィック分散**

   ```
   例：レジの行列整理
   - お客様を空いているレジに案内
   - 混雑時は全レジを使用
   - レジが故障したら他のレジに案内
   ```

2. **健康管理**

   ```
   例：従業員の勤務管理
   - 定期的な状態確認
   - 体調不良者の休憩指示
   - 人員配置の最適化
   ```

3. **セキュリティ対策**
   ```
   例：入場ゲートの警備
   - 身分証確認
   - 不審者の発見
   - 混雑の防止
   ```

### メリット

1. **ユーザーにとって**

   - 🚀 より速いレスポンス
   - 🔄 安定したアクセス
   - 🛡️ 安全な通信

2. **事業者にとって**
   - 💪 システムの安定性向上
   - 📊 効率的なリソース利用
   - 🔧 簡単な管理・運用

### よくある質問

Q1: なぜ負荷分散が必要？

- 🏃 一つのサーバーへの負担を減らす
- 🔄 システムの安定性を確保
- 💨 より速いレスポンスを実現

Q2: どの種類を選べばいい？

- 🌐 Web サイト → ALB
- 🎮 ゲームサーバー → NLB
- 🛡️ セキュリティ装置 → GWLB

Q3: コストは？

- 💰 使用時間と処理量に応じた課金
- 📊 予測可能な料金体系
- 🎯 必要な機能のみ利用可能

### まとめ

ELB は、以下を実現する「デジタルな交通整理係」です：

- 🚦 トラフィックの最適化
- 🛡️ 安定したサービス提供
- 🔄 自動的な負荷分散
- 📊 効率的なリソース利用
