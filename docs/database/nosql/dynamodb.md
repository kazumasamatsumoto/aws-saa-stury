# Amazon DynamoDB

## 料金プランとキャパシティモード

### 機能

- オンデマンドモード

  - 実際の使用量に基づく課金
  - 自動的なスケーリング
  - 事前のキャパシティ設定不要

- プロビジョンドモード
  - 事前に容量を確保
  - 予測可能な料金
  - 予約容量の割引

### 用途

- オンデマンド：

  - トラフィックが予測困難な場合
  - 開発・テスト環境
  - 新規アプリケーション

- プロビジョンド：
  - 一定のトラフィックがある場合
  - コスト最適化が必要な場合
  - 大規模な本番環境

### 目的

- 柔軟な料金体系の提供
- コスト効率の最適化
- 運用負荷の軽減

### 一般人向け解説

電気料金のプランのようなものです。オンデマンドは使った分け支払う従量制、プロビジョンドは一定量を契約する定額制のようなものです。

## キーとセカンダリインデックス

### 機能

- パーティションキー
- ソートキー
- グローバルセカンダリインデックス
- ローカルセカンダリインデックス

### 用途

- 効率的なデータ検索
- 複数の検索パターンの実現
- データの一意性の確保

### 目的

- クエリパフォーマンスの最適化
- 柔軟なデータアクセス
- スケーラブルな設計の実現

### 一般人向け解説

図書館の本の整理方法のようなものです。本を著者名（パーティションキー）と出版日（ソートキー）で整理し、別途タイトルや分野（セカンダリインデックス）でも検索できるようにしているイメージです。

## DynamoDB Streams

### 機能

- リアルタイムのデータ変更検知
- 変更履歴の保持
- Lambda との連携

### 用途

- データの同期
- イベント駆動型アプリケーション
- 監査ログの作成

### 目的

- データ変更の追跡
- システム間の連携
- リアルタイム処理の実現

### 一般人向け解説

お店の POS レジのようなものです。商品が売れるたびにリアルタイムで在庫システムに反映され、必要に応じて自動的に発注などのアクションを起こすことができます。

## DynamoDB Accelerator

### 機能

- インメモリキャッシング
- マイクロ秒レベルのレスポンス
- 自動的なキャッシュ管理

### 用途

- 高速な読み取り処理
- 頻繁にアクセスされるデータの処理
- レイテンシーの削減

### 目的

- パフォーマンスの向上
- コスト効率の改善
- ユーザー体験の向上

### 一般人向け解説

コンビニの商品棚のようなものです。よく売れる商品は手の届きやすい場所（キャッシュ）に置いておくことで、素早く取り出すことができます。

## DynamoDB グローバルテーブル

### 機能

- マルチリージョンレプリケーション
- 双方向の同期
- 低レイテンシーアクセス

### 用途

- グローバルなアプリケーション展開
- 災害対策
- 地理的な冗長性確保

### 目的

- 可用性の向上
- データの地理的分散
- ユーザー体験の最適化

### 一般人向け解説

世界中にある同じチェーン店のように、どの地域でも同じサービスを提供できます。例えば、東京店で更新した在庫情報がニューヨーク店でもすぐに確認できるようなイメージです。

## 強い整合性と結果整合性

### 機能

- 強い整合性：即時の一貫性確保
- 結果整合性：最終的な一貫性保証
- 読み取り整合性オプション

### 用途

- 強い整合性：金融取引、在庫管理
- 結果整合性：SNS 投稿、ログ記録

### 目的

- データの一貫性確保
- パフォーマンスとの両立
- ユースケースに応じた選択

### 一般人向け解説

銀行口座の残高確認のようなものです。ATM での取引（強い整合性）では即座に正確な残高を確認する必要がありますが、明細書の表示（結果整合性）は少し遅れて更新されても問題ない、というような使い分けができます。

## 代表的な API

### 機能

- PutItem：データの作成・更新
- GetItem：単一データの取得
- Query：条件に基づく検索
- Scan：全データのスキャン
- UpdateItem：データの部分更新
- DeleteItem：データの削除
- BatchWriteItem：複数データの一括処理

### 用途

- アプリケーションからのデータ操作
- バッチ処理での一括更新
- データの検索・分析
- システム間のデータ連携

### 目的

- データの CRUD 操作の実現
- 効率的なデータアクセス
- アプリケーション開発の効率化

### 一般人向け解説

図書館のカウンターでの作業のようなものです。本の貸出（GetItem）、返却（PutItem）、本の検索（Query）、棚卸し（Scan）など、様々な操作を行うための窓口として機能します。

## バックアップ

### 機能

- オンデマンドバックアップ
- ポイントインタイムリカバリ（PITR）
- クロスリージョンバックアップ
- 自動バックアップ

### 用途

- 災害対策
- 誤操作からの復旧
- コンプライアンス対応
- データの長期保存

### 目的

- データ保護の実現
- ビジネス継続性の確保
- リスク管理の強化

### 一般人向け解説

重要な書類のコピーを取っておくようなものです。万が一の事態（災害や誤削除など）が発生しても、バックアップから元の状態に戻すことができます。定期的な自動バックアップは、定期的に書類をスキャンして保存しておくようなイメージです。

## セキュリティ

### 機能

- IAM による認証・認可
- VPC エンドポイント
- 保管データの暗号化
- 転送中のデータの暗号化
- CloudWatch による監視
- CloudTrail による監査

### 用途

- アクセス制御の実装
- セキュアな通信の確保
- コンプライアンス要件への対応
- セキュリティ監査の実施

### 目的

- データの機密性確保
- 不正アクセスの防止
- セキュリティリスクの低減
- コンプライアンスの維持

### 一般人向け解説

金庫のセキュリティシステムのようなものです。入室カード（IAM）による入室管理、専用の通路（VPC エンドポイント）の使用、重要書類の暗号化、防犯カメラ（CloudWatch/CloudTrail）による監視など、様々な方法でデータを保護します。これにより、許可された人だけが必要なデータにアクセスでき、すべての操作が記録されます。
